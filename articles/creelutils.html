<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>User Guide • creelutils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="User Guide">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <img src="https://wdfw.widen.net/content/rodpw2fbqj/png/wdfw_logo_stacked_fullcolor.png?w=300" alt="Logo" height="50" style="padding-right: 20px;"><a class="navbar-brand me-2" href="../index.html">creelutils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/creelutils.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wdfw-fp/creelutils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>User Guide</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wdfw-fp/creelutils/blob/main/vignettes/creelutils.Rmd" class="external-link"><code>vignettes/creelutils.Rmd</code></a></small>
      <div class="d-none name"><code>creelutils.Rmd</code></div>
    </div>

    
    
<p>The <code>creelutils</code> package facilitates working with
freshwater creel data by providing a toolkit that streamlines accessing
data and performing common tasks in R.</p>
<div class="section level2">
<h2 id="accessing-public-data">Accessing public data<a class="anchor" aria-label="anchor" href="#accessing-public-data"></a>
</h2>
<p>Freshwater recreational creel data is made publicly available at
Washington’s official open data portal, <a href="https:://data.wa.gov">data.wa.gov</a>. Creel datasets are
comprised of multiple elements (e.g., effort, interview, and catch data)
that are grouped in space and time by a “Fishery Name” identifier. This
identifier is an easy way to view a given creel’s full dataset.</p>
<p>For example, the <em>Skagit winter steelhead 2021</em> dataset
contains effort counts, angler interviews, etc. conducted on sections of
the Skagit and Sauk rivers from 2021-02-01 to 2021-04-15.</p>
<p><strong>By Fishery Name</strong></p>
<p>The function <code>fetch_dwg</code> downloads creel data from
data.wa.gov by Fishery Name and is the primary route for accessing a
complete dataset from a fishery.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://wdfw-fp.github.io/creelutils">creelutils</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">fishery_name</span> <span class="op">&lt;-</span> <span class="st">"Skagit winter steelhead 2021"</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_dwg.html">fetch_dwg</a></span><span class="op">(</span><span class="va">fishery_name</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: One or more parsing issues, call `problems()` on your data frame for details,</span></span>
<span><span class="co">#&gt; e.g.:</span></span>
<span><span class="co">#&gt;   dat &lt;- vroom(...)</span></span>
<span><span class="co">#&gt;   problems(dat)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt;   `Data Component` Records</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> effort              <span style="text-decoration: underline;">4</span>864</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> ll                     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> interview           <span style="text-decoration: underline;">1</span>860</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> catch                683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> closures              60</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> fishery_manager       22</span></span>
<span></span>
<span><span class="co">#ll stands for latitude and longitude</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "effort"          "ll"              "interview"       "catch"          </span></span>
<span><span class="co">#&gt; [5] "closures"        "fishery_manager"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">effort</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "creel_event_id"       "event_date"           "water_body"          </span></span>
<span><span class="co">#&gt;  [4] "project_name"         "fishery_name"         "effort_event_id"     </span></span>
<span><span class="co">#&gt;  [7] "location"             "location_id"          "tie_in_indicator"    </span></span>
<span><span class="co">#&gt; [10] "count_sequence"       "effort_start_time"    "effort_end_time"     </span></span>
<span><span class="co">#&gt; [13] "no_count_reason"      "comments"             "count_type"          </span></span>
<span><span class="co">#&gt; [16] "count_quantity"       "location_type"        "survey_type"         </span></span>
<span><span class="co">#&gt; [19] "location_season_name" "section_num"          "surveyor_num"        </span></span>
<span><span class="co">#&gt; [22] "p_census_bank"        "p_census_boat"        "indirect_census_bank"</span></span>
<span><span class="co">#&gt; [25] "direct_census_bank"</span></span></code></pre></div>
<p><strong>What if I don’t know the Fishery Name?</strong></p>
<p>The function <code><a href="../reference/fetch_fishery_names.html">fetch_fishery_names()</a></code>, which has no
arguments, returns a list of all fishery names in the creel
database.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fetch_fishery_names.html">fetch_fishery_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Baker summer sockeye 2022"   "Baker summer sockeye 2023"  </span></span>
<span><span class="co">#&gt;  [3] "Cascade fall salmon 2021"    "Cascade fall salmon 2022"   </span></span>
<span><span class="co">#&gt;  [5] "Cascade fall salmon 2023"    "Cascade fall salmon 2024"   </span></span>
<span><span class="co">#&gt;  [7] "Cascade spring Chinook 2021" "Cascade spring Chinook 2022"</span></span>
<span><span class="co">#&gt;  [9] "Cascade spring Chinook 2023" "Cascade spring Chinook 2024"</span></span></code></pre></div>
<p><strong>What if I know part of the Fishery Name but not the specific
syntax?</strong></p>
<p>The function <code><a href="../reference/search_fishery_name.html">search_fishery_name()</a></code> can accept a vector
of characters or numbers and returns the fishery names with those
values.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># by water body</span></span>
<span><span class="fu"><a href="../reference/search_fishery_name.html">search_fishery_name</a></span><span class="op">(</span><span class="st">"Humptulips"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Humptulips salmon 2019" "Humptulips salmon 2020" "Humptulips salmon 2021"</span></span>
<span><span class="co">#&gt; [4] "Humptulips salmon 2022" "Humptulips salmon 2023"</span></span>
<span></span>
<span><span class="co"># by run / species</span></span>
<span><span class="fu"><a href="../reference/search_fishery_name.html">search_fishery_name</a></span><span class="op">(</span><span class="st">"winter steelhead"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Chehalis winter steelhead 2024-25"   "Clearwater winter steelhead 2024-25"</span></span>
<span><span class="co">#&gt; [3] "Hoh winter steelhead 2022-23"        "Hoh winter steelhead 2023-24"       </span></span>
<span><span class="co">#&gt; [5] "Hoh winter steelhead 2024-25"</span></span>
<span></span>
<span><span class="co"># by year</span></span>
<span><span class="fu"><a href="../reference/search_fishery_name.html">search_fishery_name</a></span><span class="op">(</span><span class="st">"2025"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Chehalis Salmon 2025-26"                  </span></span>
<span><span class="co">#&gt; [2] "Humptulips Salmon 2025-26"                </span></span>
<span><span class="co">#&gt; [3] "North Fork Skykomish summer gamefish 2025"</span></span>
<span><span class="co">#&gt; [4] "Puyallup Carbon salmon 2025"              </span></span>
<span><span class="co">#&gt; [5] "Quillayute spring chinook 2025"</span></span></code></pre></div>
<div class="section level3">
<h3 id="accessing-internal-data">Accessing internal data<a class="anchor" aria-label="anchor" href="#accessing-internal-data"></a>
</h3>
<p>This section covers operations that require the appropriate
credentials and permissions for WDFW’s Postgres creel database. Selected
‘views’ from the relational database are mirrored on Washington’s
official open data portal, <a href="https:://data.wa.gov">data.wa.gov</a>, for public access.</p>
<div class="section level4">
<h4 id="connecting-to-database">Connecting to database<a class="anchor" aria-label="anchor" href="#connecting-to-database"></a>
</h4>
<p>An internal connection to the Postgres creel database can be made
using the <code>establish_db_con</code> function. When called a RStudio
UI prompt will open for the user to enter their password. This requires
the proper user credentials and setup on local computer. If this is your
first time using this method, contact the package maintainer for
assistance.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># con &lt;- establish_db_con()</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Colt Holley, Kale Bentley, Evan Booher, Collin Edwards.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
